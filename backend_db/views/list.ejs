<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="sweetalert2.min.js"></script>
</head>
<body>
    <style>
        table{
            width:100%;
            border-collapse:collapse;
        }
        th{
            text-align:left;
        }
    </style>
    <a href="/">Add User</a>
    <table cellpadding="10">
        <tr>
            <th>SNo</th>
            <th>Name</th>
            <th>Age</th>
            <th>Action</th>
        </tr>
        <% userTable.map((data,index)=>{ %>
            <tr>
                <td><%=index+1%></td>
                <td><%=data.name%></td>
                <td><%=data.age%></td>
                <td>
                    <a href="/view/<%=data._id%>"><i class="fa fa-eye"></i></a>
                    <a href="/edit/<%=data._id%>"><i class="fa fa-pen"  onclick="myFun()"></i></a>
                    <a href="/delete/<%=data._id%>" onclick="return confirm('Are u sure want to delete')"><i class="fa fa-trash"></i></a>
                </td>
            </tr>
        <% }) %>
    </table>
</body>
</html>

<script>
    function myFun(){
        Swal.fire({
  title: "Do you want to save the changes?",
  showDenyButton: true,
  showCancelButton: true,
  confirmButtonText: "Save",
  denyButtonText: `Don't save`
}).then((result) => {
  /* Read more about isConfirmed, isDenied below */
  if (result.isConfirmed) {
    Swal.fire("Saved!", "", "success");
  } else if (result.isDenied) {
    Swal.fire("Changes are not saved", "", "info");
  }
});
    }
</script>